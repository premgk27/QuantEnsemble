 Great approach — getting the data right is
  foundational. Here's how to think about it for your
  Phase 1 daily model:

  Data You Need

  1. Price Data (OHLCV)
  - Open, High, Low, Close, Volume — daily bars
  - This is the raw input from which most features are
  derived
  - Sources: Yahoo Finance (yfinance), Alpha Vantage,
  Polygon.io, Tiingo
  - yfinance is free and fine for research/prototyping

  2. Stock Universe — What tickers?
  - Start with a single liquid stock (e.g., SPY or AAPL)
  to build and debug the pipeline
  - Then expand to a small basket (20-50 large-cap
  stocks)
  - Liquid stocks matter — illiquid names have unreliable
   prices and you can't actually trade them at backtest
  prices
  - S&P 500 constituents are a common starting universe

  3. How Much History?
  - For daily models, aim for 5-10 years minimum
  - You need enough data to cover multiple market regimes
   (bull, bear, high vol, low vol)
  - Some features need a warmup period (e.g., 200-day MA
  needs 200 days before producing values), so fetch extra

  Features Derived From OHLCV

  All from your CLAUDE.md Step 1:
  ┌────────────┬─────────────┬──────────────────────────┐
  │  Category  │  Features   │           Why            │
  ├────────────┼─────────────┼──────────────────────────┤
  │            │ 1d, 5d,     │ Captures                 │
  │ Returns    │ 10d, 20d    │ momentum/mean-reversion  │
  │            │ returns     │ at different scales      │
  ├────────────┼─────────────┼──────────────────────────┤
  │            │ MA          │                          │
  │            │ crossovers  │ Trend direction and      │
  │ Trend      │ (5/20,      │ strength                 │
  │            │ 10/50),     │                          │
  │            │ price vs MA │                          │
  ├────────────┼─────────────┼──────────────────────────┤
  │            │ RSI         │                          │
  │ Mean       │ (14-day),   │ Overbought/oversold      │
  │ reversion  │ Bollinger   │ signals                  │
  │            │ Band %B     │                          │
  ├────────────┼─────────────┼──────────────────────────┤
  │            │ ATR,        │                          │
  │            │ realized    │ Regime detection, risk   │
  │ Volatility │ vol, vol    │ scaling                  │
  │            │ ratio       │                          │
  │            │ (5d/20d)    │                          │
  ├────────────┼─────────────┼──────────────────────────┤
  │            │ Volume      │                          │
  │ Volume     │ ratio       │ Abnormal activity        │
  │            │ (today vs   │ detection                │
  │            │ 20d avg)    │                          │
  └────────────┴─────────────┴──────────────────────────┘
  How to Pick Which Features to Keep

  Step 1 — Start broad, then prune. For daily models your
   CLAUDE.md says you can throw in many features and let
  the model sort it out. So start with all the above.

  Step 2 — Check for issues before modeling:
  - Correlation matrix — if two features are >0.9
  correlated, drop one (they add noise, not signal)
  - Stationarity — raw price is non-stationary and
  useless as a feature. Use returns and ratios instead
  - Missing values — features with long warmup periods
  create NaNs at the start. Trim those rows

  Step 3 — Let the models help you prune:
  - Ridge/Lasso will naturally shrink useless feature
  weights toward zero
  - XGBoost has built-in feature importance — look at
  which features it actually splits on
  - Drop features that consistently contribute nothing
  across walk-forward folds

  Key Pitfall: What NOT to Use as Features

  - Raw prices — non-stationary, model will learn
  spurious trends
  - Future-derived features — e.g., "today's return" when
   predicting today's return
  - Features normalized on the full dataset — must
  normalize using only past data (rolling mean/std)
  - Calendar features without thought — day-of-week can
  work, but "year" is meaningless

  Suggested Starting Point

  Ticker: SPY (or AAPL)
  History: 10 years daily OHLCV
  Features: ~10-15 (returns, RSI, BB, MA crossovers, ATR,
   volume ratio)
  Target: next-day return (or sign of next-day return)

  Get the pipeline working end-to-end with one stock and
  simple features first. You can always add complexity
  later — but you can't debug a complex system you built
  all at once.

  Want me to go deeper on any specific part — like how to
   compute specific features, or how to structure the
  target variable?


###

Simple example: if you have 20 features, you want at least 1,000-2,000 rows of data to train on.

  Why? XGBoost needs to learn patterns from your data. Each feature adds complexity — more
  "dimensions" the model has to figure out. If you have 100 features but only 200 rows, the model can
   find patterns that are pure noise/coincidence and memorize them. That's overfitting.
